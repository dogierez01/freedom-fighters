<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=5.0, user-scalable=yes">
    <title>Freedom Fighters - Learning App</title>
    
    <script>
        function startApp() {
            var splash = document.getElementById('splash-screen');
            if(splash) {
                splash.style.opacity = '0';
                setTimeout(function() { splash.style.display = 'none'; }, 500);
            }
        }
    </script>

    <style>
        body { font-family: -apple-system, sans-serif; background: #121212; color: #e0e0e0; margin: 0; padding: 0; overflow-x: hidden; }

        /* SPLASH SCREEN */
        #splash-screen { 
            position: fixed; top: 0; left: 0; width: 100%; height: 100%; 
            background: #181818; z-index: 9999; 
            display: flex; flex-direction: column; align-items: center; justify-content: center; 
            transition: opacity 0.5s ease-out; 
        }
        #splash-img { max-width: 95%; max-height: 80vh; border-radius: 12px; box-shadow: 0 0 25px rgba(0,0,0,0.7); margin-bottom: 25px; object-fit: contain; }
        #start-btn { padding: 15px 50px; font-size: 20px; font-weight: 900; color: white; background: linear-gradient(135deg, #2f9e44, #2ecc71); border: none; border-radius: 50px; cursor: pointer; transition: transform 0.2s; letter-spacing: 1px; text-transform: uppercase; z-index: 10001; }
        
        /* HEADER */
        #header-area { position: fixed; top: 0; left: 0; width: 100%; background: #000; border-bottom: 2px solid #333; z-index: 2000; display: flex; flex-direction: column; align-items: center; padding-bottom: 10px; }
        #app-title { color: #fff; font-size: 16px; font-weight: 900; margin: 10px 0; letter-spacing: 1px; text-transform: uppercase; }

        .toggle-container { display: flex; background: #1e1e1e; border-radius: 30px; padding: 4px; border: 1px solid #333; }
        .toggle-btn { padding: 8px 24px; border-radius: 25px; border: none; font-size: 13px; font-weight: bold; cursor: pointer; color: #888; background: transparent; }
        .toggle-btn.active { color: #000; background: #4dabf7; }

        /* PLAYER */
        #audio-controls { width: 100%; display: flex; flex-direction: column; align-items: center; margin-top: 10px; }
        #now-playing { color: #4dabf7; font-size: 12px; margin-bottom: 5px; font-weight: bold; text-align: center; }
        .player-row { display: flex; align-items: center; justify-content: center; gap: 10px; width: 95%; max-width: 600px; }
        #player { flex-grow: 1; height: 50px; }

        #btn-snail { min-width: 80px; height: 60px; background: #111; border: 4px solid #ff0033; border-radius: 15px; font-size: 40px; cursor: pointer; box-shadow: 0 0 10px #ff0033; }
        #btn-snail.active { border-color: #39ff14; box-shadow: 0 0 20px #39ff14; }

        /* CONTENT */
        #content-listen { padding: 20px; padding-top: 175px; max-width: 650px; margin: 0 auto; }
        .search { width: 100%; padding: 15px; font-size: 16px; border-radius: 12px; border: 1px solid #333; background: #1e1e1e; color: white; margin-bottom: 20px; }
        
        .card { background: #1e1e1e; padding: 20px; margin-bottom: 25px; border-radius: 15px; border: 1px solid #333; }
        .name { font-weight: 900; display: block; margin-bottom: 15px; font-size: 22px; text-transform: uppercase; color: #fff; text-align: center; border-bottom: 2px solid #444; padding-bottom: 10px; }
        
        .btn-container { display: flex; flex-direction: column; gap: 10px; }
        .play-btn { border: none; padding: 14px; border-radius: 10px; font-size: 15px; font-weight: bold; cursor: pointer; color: white; text-align: center; }
        .btn-uk { background: #d63031; } 
        .btn-us-female { background: #e056fd; } 
        .btn-read-up { background: #007AFF; }

        /* REVEAL SECTION */
        .read-up-content { display: none; margin-top: 20px; padding-top: 20px; border-top: 1px solid #444; }
        .bio-text { font-size: 17px; line-height: 1.7; color: #ddd; margin-bottom: 30px; }
        .quiz-container { background: #000; padding: 20px; border-radius: 12px; border: 1px solid #007AFF; }
        .q-block { margin-bottom: 20px; padding-bottom: 15px; border-bottom: 1px solid #222; }
        .q-block p { font-weight: bold; margin-bottom: 10px; color: #4dabf7; }
        label { margin-right: 20px; cursor: pointer; font-size: 16px; }
    </style>
</head>
<body>

    <div id="splash-screen">
        <img src="welcome-poster.png" alt="Freedom Fighters" id="splash-img" onerror="this.src='https://via.placeholder.com/400x600?text=Freedom+Fighters'">
        <button id="start-btn" onclick="startApp()">START LEARNING ü¶Ö</button>
    </div>

    <div id="header-area">
        <div id="app-title">ü¶Ö Freedom Fighters Biographies</div>
        <div class="toggle-container">
            <button class="toggle-btn active">üéß Study Mode</button>
        </div>
        <div id="audio-controls">
            <div id="now-playing">Select a fighter to begin</div>
            <div class="player-row">
                <audio id="player" controls controlsList="nodownload"></audio>
                <button id="btn-snail" onclick="toggleSnail()" title="Slow Mode">üêå</button>
            </div>
        </div>
    </div>

    <div id="content-listen">
        <input type="text" class="search" placeholder="Search for a hero..." onkeyup="filter(this.value)">
        <div id="list"></div>
        <div id="status" style="text-align:center; color:#666; margin-top:20px;">Fetching biographies...</div>
    </div>

    <script>
        const fightersTextData = {
            "alija izetbegoviƒá": {
                text: "Alija Izetbegoviƒá was born in Bosnia and Herzegovina in 1925. He was a lawyer, philosopher, and politician. He spent time in jail under the Communist government of Yugoslavia because of his religious writings. In 1990, he became the first President of the independent Republic of Bosnia and Herzegovina. He led the country through the Bosnian War, which lasted from 1992 to 1995. He worked to protect the independence and unity of Bosnia and Herzegovina during the war. After the war, he was one of the signers of the Dayton Peace Agreement, which ended the fighting. He continued to serve as a member of the country's presidency until 2000. He is considered the father of the Bosnian nation. He died in 2003.",
                questions: [
                    { q: "Alija Izetbegoviƒá was the first President of independent Bosnia and Herzegovina.", answer: true },
                    { q: "He was imprisoned because of his political actions in the army.", answer: false },
                    { q: "The Bosnian War lasted for five years.", answer: false },
                    { q: "He helped sign the Dayton Peace Agreement.", answer: true },
                    { q: "He served as a president until 2003.", answer: false },
                    { q: "He is known as the father of the Bosnian nation.", answer: true }
                ]
            },
            "am√≠lcar cabral": {
                text: "Am√≠lcar Cabral was born in Guinea-Bissau in 1924, which was a Portuguese colony. He was an agricultural engineer and a political leader. He founded the African Party for the Independence of Guinea and Cape Verde (PAIGC). This party fought to gain independence for both countries from Portugal. Cabral was a brilliant thinker and a skilled organizer. He believed that successful liberation movements needed both armed struggle and strong political work among the people. His ideas about culture and national identity were important to many anti-colonial movements. He led the PAIGC in a long and successful guerrilla war against the Portuguese army. Tragically, he was assassinated in 1973 by a rival faction within his own movement, just before Guinea-Bissau won independence.",
                questions: [
                    { q: "Cabral was an agricultural engineer.", answer: true },
                    { q: "He founded the PAIGC to fight against Spanish rule.", answer: false },
                    { q: "He believed in combining armed struggle with political work.", answer: true },
                    { q: "He died of old age after his country won independence.", answer: false },
                    { q: "His ideas influenced anti-colonial movements globally.", answer: true },
                    { q: "He led a guerrilla war against the Portuguese army.", answer: true }
                ]
            },
            "angela davis": {
                text: "Angela Davis was born in the United States in 1944. She is a political activist, academic, and author. She became famous in the 1960s as a leader in the Communist Party USA and for her involvement with the Black Panther Party. She spoke out against racism, sexism, and the prison system. In 1970, she was accused of being involved in a court attack and kidnapping. She went into hiding and was placed on the FBI's Most Wanted List. She was later captured and spent over a year in jail before being acquitted, meaning found not guilty, in 1972. She continues to be a prominent voice for prison reform and the abolition of the prison system. She is also a university professor who teaches about the history of consciousness and feminist studies.",
                questions: [
                    { q: "Angela Davis was a leader in the Black Panther Party.", answer: true },
                    { q: "She was found guilty of kidnapping in 1972.", answer: false },
                    { q: "She was once on the FBI's Most Wanted List.", answer: true },
                    { q: "She advocates for the complete abolition of the prison system.", answer: true },
                    { q: "She is a university professor.", answer: true },
                    { q: "She was born in the 1970s.", answer: false }
                ]
            },
            "assata shakur": {
                text: "Assata Shakur was born in the United States in 1947. She was a political activist and a member of the Black Panther Party and the Black Liberation Army. In 1973, she was involved in a roadside gunfight with police in New Jersey. She was convicted of murder in 1977 but maintained her innocence. In 1979, she escaped from prison and traveled to Cuba, where she was granted political asylum. She remains in Cuba today and is still wanted by the FBI.",
                questions: [
                    { q: "Assata Shakur was a member of the Black Liberation Army.", answer: true },
                    { q: "She was convicted of murder in 1977.", answer: true },
                    { q: "She has always admitted that she was guilty of the crime.", answer: false },
                    { q: "She escaped from prison in 1979.", answer: true },
                    { q: "She currently lives in the United States.", answer: false },
                    { q: "She was granted political asylum in Cuba.", answer: true }
                ]
            },
            "bhagat singh": {
                text: "Bhagat Singh was born in British India in 1907. He was a revolutionary who fought for India's independence from British rule. Unlike Mahatma Gandhi, Singh believed that armed struggle was necessary. In 1929, he threw a harmless bomb into the Central Legislative Assembly to protest. He was arrested and executed by the British in 1931 at the age of 23. He is considered a national hero in India and Pakistan.",
                questions: [
                    { q: "Bhagat Singh followed Gandhi's non-violent methods.", answer: false },
                    { q: "He was influenced by socialist and anarchist ideas.", answer: true },
                    { q: "He threw a bomb into the Central Legislative Assembly in 1929.", answer: true },
                    { q: "The bomb he threw was designed to kill many people.", answer: false },
                    { q: "He was executed at the age of 23.", answer: true },
                    { q: "He is only considered a hero in India, not Pakistan.", answer: false }
                ]
            },
            "bobby sands": {
                text: "Bobby Sands was born in Northern Ireland in 1954. He was a member of the Provisional Irish Republican Army (IRA). In 1981, he led a hunger strike in prison, demanding to be treated as a political prisoner. He died after 66 days without food. While on strike, he was elected as a Member of Parliament in the UK.",
                questions: [
                    { q: "Bobby Sands was a member of the IRA.", answer: true },
                    { q: "The IRA wanted Northern Ireland to stay in the United Kingdom.", answer: false },
                    { q: "Sands led a hunger strike in 1981.", answer: true },
                    { q: "He wanted to be treated as an ordinary criminal.", answer: false },
                    { q: "He died after 66 days of fasting.", answer: true },
                    { q: "He was elected to the UK Parliament while in prison.", answer: true }
                ]
            },
            "che guevara": {
                text: "Ernesto 'Che' Guevara was an Argentine doctor and revolutionary. He joined Fidel Castro in the Cuban Revolution. He later left Cuba to start revolutions in Congo and Bolivia. In 1967, he was captured and executed in Bolivia. He is a global symbol of rebellion.",
                questions: [
                    { q: "Che Guevara was originally a doctor.", answer: true },
                    { q: "He was born in Cuba.", answer: false },
                    { q: "He fought alongside Fidel Castro.", answer: true },
                    { q: "He served in the Cuban government after the revolution.", answer: true },
                    { q: "He died in the Congo.", answer: false },
                    { q: "He was executed in 1967.", answer: true }
                ]
            },
            "deniz gezmi≈ü": {
                text: "Deniz Gezmi≈ü was a leading socialist activist in Turkey. He opposed American influence and was a founding member of the THKO. He was involved in armed actions and was executed by hanging in 1972 following a military coup.",
                questions: [
                    { q: "Deniz Gezmi≈ü was a left-wing student leader in Turkey.", answer: true },
                    { q: "He supported American influence in Turkish politics.", answer: false },
                    { q: "He was a founding member of the THKO.", answer: true },
                    { q: "He was arrested after a military coup in 1971.", answer: true },
                    { q: "He died of a hunger strike in prison.", answer: false },
                    { q: "He was executed by hanging in 1972.", answer: true }
                ]
            },
            "djamila bouhired": {
                text: "Djamila Bouhired was an Algerian resistance fighter. She planted bombs during the Battle of Algiers in 1956. She was sentenced to death but released in 1962 after Algeria won independence. She is a national hero.",
                questions: [
                    { q: "Djamila Bouhired fought for Algerian independence from France.", answer: true },
                    { q: "She was part of the National Liberation Front (FLN).", answer: true },
                    { q: "She was captured and sentenced to life in prison initially.", answer: false },
                    { q: "A global campaign helped save her from the death penalty.", answer: true },
                    { q: "She was released before Algeria won independence.", answer: false },
                    { q: "She is a symbol of women's role in the freedom fight.", answer: true }
                ]
            },
            "frantz fanon": {
                text: "Frantz Fanon was a psychiatrist and writer from Martinique. He worked in Algeria and supported the use of violence to achieve liberation from colonialism. His book 'The Wretched of the Earth' is very influential.",
                questions: [
                    { q: "Frantz Fanon was born in Algeria.", answer: false },
                    { q: "He was a trained psychiatrist.", answer: true },
                    { q: "He wrote 'The Wretched of the Earth'.", answer: true },
                    { q: "He believed colonized people should never use violence.", answer: false },
                    { q: "His ideas influenced anti-colonial movements in Africa.", answer: true },
                    { q: "He died of leukemia in 1961.", answer: true }
                ]
            },
            "fred hampton": {
                text: "Fred Hampton was a leader in the Black Panther Party in Chicago. He created the 'Rainbow Coalition'. He was killed at age 21 during a police raid in 1969, which is seen as a political assassination.",
                questions: [
                    { q: "Fred Hampton was a leader in the Black Panther Party.", answer: true },
                    { q: "He created the 'Rainbow Coalition' to unite different groups.", answer: true },
                    { q: "He only wanted to work with Black organizations.", answer: false },
                    { q: "He was killed during a raid on his apartment.", answer: true },
                    { q: "He was 35 years old when he died.", answer: false },
                    { q: "His death is considered a political assassination.", answer: true }
                ]
            },
            "george habash": {
                text: "George Habash was a Palestinian doctor and founder of the PFLP. He believed in a wider Arab revolution. He led the PFLP for decades using armed resistance.",
                questions: [
                    { q: "George Habash was a Christian doctor.", answer: true },
                    { q: "He founded the PFLP in 1967.", answer: true },
                    { q: "He believed in a peaceful transition without revolution.", answer: false },
                    { q: "The PFLP was known for plane hijackings.", answer: true },
                    { q: "He led the PFLP until 2008.", answer: false },
                    { q: "He died of an illness in 2008.", answer: true }
                ]
            },
            "ho chi minh": {
                text: "Ho Chi Minh founded the Communist Party of Vietnam. He led the fight for independence against France and the U.S. He was the first President of North Vietnam.",
                questions: [
                    { q: "Ho Chi Minh founded the Communist Party of Vietnam.", answer: true },
                    { q: "He fought against both France and the United States.", answer: true },
                    { q: "He became the President of a united Vietnam in 1945.", answer: false },
                    { q: "He died before the Vietnam War ended.", answer: true },
                    { q: "Saigon was renamed after him.", answer: true },
                    { q: "He never traveled outside of Vietnam.", answer: false }
                ]
            },
            "huey p. newton": {
                text: "Huey P. Newton co-founded the Black Panther Party in 1966. He advocated for Black self-defense and community programs. He was killed in 1989.",
                questions: [
                    { q: "Huey P. Newton co-founded the Black Panther Party.", answer: true },
                    { q: "He was the party's Minister of Education.", answer: false },
                    { q: "He believed in the right to bear arms for self-defense.", answer: true },
                    { q: "The party provided free breakfast for children.", answer: true },
                    { q: "He never went to prison.", answer: false },
                    { q: "He earned a Ph.D. later in his life.", answer: true }
                ]
            },
            "leila khaled": {
                text: "Leila Khaled is a member of the PFLP. She became famous for hijacking airplanes to draw attention to the Palestinian cause. She remains a significant political figure.",
                questions: [
                    { q: "Leila Khaled is a member of the PFLP.", answer: true },
                    { q: "She was involved in two airplane hijackings.", answer: true },
                    { q: "She had surgery to change her appearance.", answer: true },
                    { q: "She was executed after her second hijacking.", answer: false },
                    { q: "She was released in a prisoner exchange.", answer: true },
                    { q: "She no longer speaks about Palestinian rights.", answer: false }
                ]
            },
            "malcolm x": {
                text: "Malcolm X was a Muslim minister and human rights activist. He initially advocated for Black nationalism but later focused on universal human rights after visiting Mecca. He was assassinated in 1965.",
                questions: [
                    { q: "Malcolm X joined the Nation of Islam in prison.", answer: true },
                    { q: "He always believed in non-violent protest only.", answer: false },
                    { q: "His trip to Mecca changed his views on race.", answer: true },
                    { q: "He founded the Black Panther Party.", answer: false },
                    { q: "He left the Nation of Islam before his death.", answer: true },
                    { q: "He was assassinated in New York.", answer: true }
                ]
            },
            "marwan barghouti": {
                text: "Marwan Barghouti is a Palestinian leader currently in an Israeli prison. He was a key figure in the First and Second Intifadas. Many see him as a future leader.",
                questions: [
                    { q: "Marwan Barghouti was a leader in the Fatah movement.", answer: true },
                    { q: "He was a key figure in both Intifadas.", answer: true },
                    { q: "He has always opposed the peace process.", answer: false },
                    { q: "He was arrested in 2002.", answer: true },
                    { q: "He is currently a free man in Palestine.", answer: false },
                    { q: "He is serving multiple life sentences.", answer: true }
                ]
            },
            "mumia abu-jamal": {
                text: "Mumia Abu-Jamal is a journalist and activist convicted of killing a police officer in 1981. He maintains his innocence. His death sentence was changed to life in prison.",
                questions: [
                    { q: "Mumia Abu-Jamal was a member of the Black Panther Party.", answer: true },
                    { q: "He was convicted of killing a police officer in Philadelphia.", answer: true },
                    { q: "He has admitted to the crime multiple times.", answer: false },
                    { q: "He spent decades on death row.", answer: true },
                    { q: "He is currently out of prison on parole.", answer: false },
                    { q: "His case is seen as racially biased by many.", answer: true }
                ]
            },
            "nelson mandela": {
                text: "Nelson Mandela led the ANC against apartheid in South Africa. He spent 27 years in prison and became the first democratically elected President of South Africa in 1994.",
                questions: [
                    { q: "Nelson Mandela was a lawyer.", answer: true },
                    { q: "He always used non-violent methods throughout his life.", answer: false },
                    { q: "He spent 27 years in prison.", answer: true },
                    { q: "He was released from prison in 1990.", answer: true },
                    { q: "He won the Nobel Peace Prize in 1993.", answer: true },
                    { q: "He was the first President of South Africa.", answer: false }
                ]
            },
            "omar mukhtar": {
                text: "Omar Mukhtar led the Libyan resistance against Italian colonization for 20 years. He used guerrilla warfare and was executed by the Italians in 1931.",
                questions: [
                    { q: "Omar Mukhtar was a religious teacher.", answer: true },
                    { q: "He fought against the French colonization of Libya.", answer: false },
                    { q: "He led guerrilla forces for almost 20 years.", answer: true },
                    { q: "The Italians captured and executed him in 1931.", answer: true },
                    { q: "His resistance was short-lived and unsuccessful.", answer: false },
                    { q: "He is a national hero in Libya.", answer: true }
                ]
            },
            "patrice lumumba": {
                text: "Patrice Lumumba was the first Prime Minister of the independent Congo. He was removed in a coup and killed in 1961. He is a symbol of African independence.",
                questions: [
                    { q: "Lumumba helped create the MNC political party.", answer: true },
                    { q: "He was the first President of the Congo.", answer: false },
                    { q: "He sought help from the Soviet Union.", answer: true },
                    { q: "He was in office for ten years.", answer: false },
                    { q: "He was removed from power in a coup.", answer: true },
                    { q: "He was killed in 1961.", answer: true }
                ]
            },
            "rosa parks": {
                text: "Rosa Parks triggered the Montgomery Bus Boycott by refusing to give up her seat. This was a turning point in the U.S. Civil Rights Movement.",
                questions: [
                    { q: "Rosa Parks was a seamstress.", answer: true },
                    { q: "She refused to give up her seat in 1955.", answer: true },
                    { q: "The resulting bus boycott lasted for one month.", answer: false },
                    { q: "The Supreme Court eventually ruled bus segregation was unconstitutional.", answer: true },
                    { q: "She was a member of the NAACP.", answer: true },
                    { q: "She spent the rest of her life in Alabama.", answer: false }
                ]
            },
            "samora machel": {
                text: "Samora Machel was the first President of independent Mozambique. He led FRELIMO in a guerrilla war against Portugal. He died in a plane crash in 1986.",
                questions: [
                    { q: "Samora Machel was a revolutionary leader in Mozambique.", answer: true },
                    { q: "He led the FRELIMO army.", answer: true },
                    { q: "Mozambique gained independence from Spain in 1975.", answer: false },
                    { q: "He established a socialist government.", answer: true },
                    { q: "He died of old age.", answer: false },
                    { q: "He died in a mysterious plane crash in 1986.", answer: true }
                ]
            },
            "steve biko": {
                text: "Steve Biko founded the Black Consciousness Movement in South Africa. He died from injuries while in police custody in 1977.",
                questions: [
                    { q: "Steve Biko founded the Black Consciousness Movement.", answer: true },
                    { q: "He believed Black people should reject feelings of inferiority.", answer: true },
                    { q: "He was allowed to participate in politics until his death.", answer: false },
                    { q: "He died from injuries sustained in police custody.", answer: true },
                    { q: "He was born in 1946.", answer: true },
                    { q: "His death went unnoticed by the international community.", answer: false }
                ]
            },
            "subcomandante marcos": {
                text: "Subcomandante Marcos was the spokesperson for the Zapatista (EZLN) in Mexico. He led an uprising in 1994 against NAFTA and for indigenous rights.",
                questions: [
                    { q: "Marcos was a leader of the EZLN in Mexico.", answer: true },
                    { q: "The Zapatista uprising began in 1994.", answer: true },
                    { q: "He was known for always wearing a ski mask.", answer: true },
                    { q: "The EZLN only used armed fighting to achieve its goals.", answer: false },
                    { q: "He changed his name to Subcomandante Galeano in 2014.", answer: true },
                    { q: "He is a symbol of anti-globalization.", answer: true }
                ]
            },
            "thomas sankara": {
                text: "Thomas Sankara was the President of Burkina Faso. He renamed the country and promoted radical social reforms, including women's rights. He was killed in a coup in 1987.",
                questions: [
                    { q: "Sankara renamed Upper Volta to Burkina Faso.", answer: true },
                    { q: "Burkina Faso means 'Land of Incorruptible People'.", answer: true },
                    { q: "He focused on helping the rich and powerful.", answer: false },
                    { q: "He promoted women's rights.", answer: true },
                    { q: "He was killed by his close friend in a coup.", answer: true },
                    { q: "He ruled for 20 years.", answer: false }
                ]
            },
            "yasser arafat": {
                text: "Yasser Arafat was the leader of the PLO. He signed the Oslo Accords and won the Nobel Peace Prize. He was the first President of the Palestinian Authority.",
                questions: [
                    { q: "Arafat was the founder of Fatah.", answer: true },
                    { q: "He never gave a speech at the United Nations.", answer: false },
                    { q: "He signed the Oslo Accords in 1993.", answer: true },
                    { q: "He won the Nobel Peace Prize in 1994.", answer: true },
                    { q: "He was the first President of the Palestinian Authority.", answer: true },
                    { q: "He died in Ramallah.", answer: false }
                ]
            }
        };

        const USER = "dogierez01";
        const REPO = "freedom-fighters"; 
        const BRANCH = "main";
        const API_URL = `https://api.github.com/repos/${USER}/${REPO}/contents/`;
        const RAW_URL = `https://raw.githubusercontent.com/${USER}/${REPO}/${BRANCH}/`;

        const list = document.getElementById("list");
        const status = document.getElementById("status");
        const player = document.getElementById("player");
        const nowPlaying = document.getElementById("now-playing");

        async function init() {
            try {
                const response = await fetch(API_URL);
                if (!response.ok) throw new Error("Connection failed.");
                const files = await response.json();
                let people = {};

                files.forEach(file => {
                    let name = file.name.toLowerCase();
                    if (!name.endsWith(".mp3") && !name.endsWith(".wav")) return;
                    
                    let baseName = name.replace(/\.(mp3|wav)$/, "").replace(/ female| male| uk| us| bio/gi, "").trim();
                    if (!people[baseName]) people[baseName] = { name: baseName, audios: [] };
                    people[baseName].audios.push(file.name);
                });

                let sorted = Object.values(people).sort((a, b) => a.name.localeCompare(b.name));
                render(sorted);
                status.style.display = 'none';
            } catch (e) { status.innerText = "Error: " + e.message; }
        }

        function render(items) {
            list.innerHTML = items.map(p => {
                let uk = p.audios.find(a => a.toLowerCase().includes("uk")) || "";
                let usF = p.audios.find(a => a.toLowerCase().includes("us") && a.toLowerCase().includes("female")) || "";
                let usM = p.audios.find(a => a.toLowerCase().includes("us") && a.toLowerCase().includes("male")) || "";

                return `
                <div class="card">
                    <span class="name">${p.name}</span>
                    <div class="btn-container">
                        ${uk ? `<button class="play-btn btn-uk" onclick="play('${uk}')">üá¨üáß 1. Listen (UK English)</button>` : ''}
                        ${usF ? `<button class="play-btn btn-us-female" onclick="play('${usF}')">üá∫üá∏ 2. Listen (US Female)</button>` : ''}
                        ${usM ? `<button class="play-btn btn-read-up" onclick="triggerReadUp('${p.name}', '${usM}')">üìñ 3. Read Up (US Male)</button>` : ''}
                    </div>
                    <div id="readup-${p.name.replace(/\s+/g, '-')}" class="read-up-content">
                        <div class="bio-text"></div>
                        <div class="quiz-container"></div>
                    </div>
                </div>`;
            }).join('');
        }

        function triggerReadUp(name, audio) {
            play(audio);
            const safeId = name.replace(/\s+/g, '-');
            const container = document.getElementById(`readup-${safeId}`);
            const data = fightersTextData[name.toLowerCase()];
            
            if (data) {
                container.querySelector('.bio-text').innerText = data.text;
                let quizHTML = `<h3>Quick Check: True or False</h3>`;
                data.questions.forEach((q, i) => {
                    quizHTML += `
                        <div class="q-block">
                            <p>${i+1}. ${q.q}</p>
                            <label><input type="radio" name="q_${safeId}_${i}"> True</label>
                            <label><input type="radio" name="q_${safeId}_${i}"> False</label>
                        </div>`;
                });
                container.querySelector('.quiz-container').innerHTML = quizHTML;
                container.style.display = 'block';
            }
        }

        let isSlow = false;
        function toggleSnail() {
            isSlow = !isSlow;
            player.playbackRate = isSlow ? 0.85 : 1.0;
            document.getElementById('btn-snail').classList.toggle('active');
        }

        function play(file) { 
            player.src = RAW_URL + encodeURIComponent(file); 
            player.play(); 
            nowPlaying.innerText = "Playing: " + file.replace(/_/g, " ").split('.')[0]; 
        }

        function filter(q) { 
            document.querySelectorAll('.card').forEach(c => {
                c.style.display = c.innerText.toLowerCase().includes(q.toLowerCase()) ? 'block' : 'none';
            });
        }

        init();
    </script>
</body>
</html>
